{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_findById","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/user":{"post":{"operationId":"UserController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserResponseDto"}}}},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."},"404":{"description":"Validation error."},"409":{"description":"User already exists"}},"security":[{"access-token":[]}],"summary":"Create a user","tags":["User"]},"get":{"operationId":"UserController_list","parameters":[{"name":"name","required":false,"in":"query","description":"O nome do usuário","schema":{"example":"maria","type":"string"}},{"name":"email","required":false,"in":"query","description":"O email do usuário","schema":{"example":"maria@compass.pb.com.br","type":"string"}},{"name":"status","required":false,"in":"query","description":"status do usuário","schema":{"example":true,"type":"boolean"}},{"name":"page","required":true,"in":"query","description":"número da página","schema":{"example":2,"type":"number"}},{"name":"limit","required":true,"in":"query","description":"número de registros por página","schema":{"example":5,"type":"number"}}],"responses":{"201":{"description":"success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CreateUserResponseDto"}}}}},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."}},"security":[{"access-token":[]}],"summary":"List users.","tags":["User"]}},"/user/{id}":{"patch":{"operationId":"UserController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"201":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserResponseDto"}}}},"401":{"description":"Unauthorized."},"404":{"description":"User not found"}},"security":[{"access-token":[]}],"summary":"Update a user","tags":["User"]},"get":{"operationId":"UserController_getUserById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Get User","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserResponseDto"}}}},"401":{"description":"Unauthorized."},"404":{"description":"User not found"}},"security":[{"access-token":[]}],"summary":"Get a user.","tags":["User"]}},"/user/{id}/disabled":{"patch":{"operationId":"UserController_disable","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Get User","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserResponseDto"}}}},"401":{"description":"Unauthorized."},"404":{"description":"User not found"}},"security":[{"access-token":[]}],"summary":"Change user's status to false.","tags":["User"]}},"/user/{id}/enabled":{"patch":{"operationId":"UserController_enable","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"401":{"description":"Unauthorized."},"404":{"description":"User not found"}},"security":[{"access-token":[]}],"summary":"Change user's status to true","tags":["User"]}},"/client":{"post":{"operationId":"ClientController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClientDto"}}}},"responses":{"201":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClientResponseDto"}}}},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."},"404":{"description":"Validation error."},"409":{"description":"Client already exists."}},"security":[{"access-token":[]}],"summary":"Create a client.","tags":["Client"]},"get":{"operationId":"ClientController_listClients","parameters":[{"name":"email","required":false,"in":"query","description":"O e-mail do cliente","schema":{"example":"depto.vendas@teste.com.br","type":"string"}},{"name":"name","required":false,"in":"query","description":"O nome do cliente","schema":{"example":"Marcelo Jose de Sousa","type":"string"}},{"name":"cpf","required":false,"in":"query","description":"CPF do usuário","schema":{"example":"123.456.789-01","type":"string"}},{"name":"status","required":false,"in":"query","description":"status do usuário","schema":{"example":true,"type":"boolean"}},{"name":"page","required":true,"in":"query","description":"número da página","schema":{"example":2,"type":"number"}},{"name":"limit","required":true,"in":"query","description":"número de registros por página","schema":{"example":5,"type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClientResponseDto"}}}},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."},"404":{"description":"Not found."},"409":{"description":"Client already exists"}},"security":[{"access-token":[]}],"summary":"List clients by email, name, cpf and status.","tags":["Client"]}},"/client/{id}":{"patch":{"operationId":"ClientController_updateClient","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateClientDto"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClientResponseDto"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Not found."}},"security":[{"access-token":[]}],"summary":"Update a client.","tags":["Client"]},"get":{"operationId":"ClientController_getClientById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClientResponseDto"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Not found."}},"security":[{"access-token":[]}],"summary":"Find a client by id.","tags":["Client"]}},"/client/{id}/desactive":{"patch":{"operationId":"ClientController_desactiveClient","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClientResponseDto"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Not found."}},"security":[{"access-token":[]}],"summary":"Inactivate client by id.","tags":["Client"]}},"/auth/login":{"post":{"operationId":"AuthControllersController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}},"401":{"description":"Unauthorized"}},"summary":"Login","tags":["auth"]}},"/order":{"post":{"operationId":"OrderController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderDto"}}}},"responses":{"201":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderResponseDto"}}}},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."},"404":{"description":"Validation error."},"409":{"description":"Order already exists."}},"security":[{"access-token":[]}],"summary":"Create an order.","tags":["Order"]},"get":{"operationId":"OrderController_list","parameters":[{"name":"status","required":false,"in":"query","description":"Order' status: OPEN, CLOSED, APPROVED, CANCELED.","schema":{"example":"APPROVED","type":"string"}},{"name":"clientCpf","required":false,"in":"query","description":"Client's CPF.","schema":{"example":"827.210.338-91","type":"string"}},{"name":"page","required":true,"in":"query","description":"Page number","schema":{"example":"1","type":"number"}},{"name":"limit","required":true,"in":"query","description":"O nome do usuário","schema":{"example":"10","type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderResponseDto"}}}},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."},"404":{"description":"Not found."}},"security":[{"access-token":[]}],"summary":"List orders by order's status or client's CPF.","tags":["Order"]}},"/order/{id}":{"patch":{"operationId":"OrderController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderDto"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderResponseDto"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Not found."},"409":{"description":"Conflict."}},"security":[{"access-token":[]}],"summary":"Update an order.","tags":["Order"]},"get":{"operationId":"OrderController_findById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderResponseDto"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Not found."}},"security":[{"access-token":[]}],"summary":"Find an order by id.","tags":["Order"]}},"/order/{id}/inactivate":{"patch":{"operationId":"OrderController_inactivate","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderResponseDto"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Not found."},"409":{"description":"Conflict."}},"security":[{"access-token":[]}],"summary":"Inactivate order by id.","tags":["Order"]}},"/cars":{"post":{"operationId":"CarController_createCar","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCarDto"}}}},"responses":{"201":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCarResponseDto"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Validation error."},"409":{"description":"Car already exists."}},"security":[{"access-token":[]}],"summary":"Create a car.","tags":["Cars"]},"get":{"operationId":"CarController_listCars","parameters":[{"name":"brand","required":false,"in":"query","description":"Cars's brand.","schema":{"example":"Fiat","type":"string"}},{"name":"year","required":false,"in":"query","description":"Cars's year.","schema":{"example":"2023","type":"number"}},{"name":"km","required":false,"in":"query","description":"Cars's km.","schema":{"example":"30","type":"number"}},{"name":"dailyRate","required":false,"in":"query","description":"Cars's daily rate.","schema":{"example":"25","type":"number"}},{"name":"status","required":false,"in":"query","description":"Cars's status.","schema":{"example":"true","type":"boolean"}},{"name":"page","required":true,"in":"query","description":"Page number","schema":{"example":"1","type":"number"}},{"name":"limit","required":true,"in":"query","description":"limit page","schema":{"example":"10","type":"number"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CreateCarResponseDto"}}}}},"401":{"description":"Unauthorized."}},"security":[{"access-token":[]}],"summary":"List cars.","tags":["Cars"]}},"/cars/{id}":{"patch":{"operationId":"CarController_updateCar","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCarDto"}}}},"responses":{"200":{"description":"success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCarResponseDto"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Not found."},"409":{"description":"Plate already exists"}},"security":[{"access-token":[]}],"summary":"Update a car.","tags":["Cars"]},"get":{"operationId":"CarController_getCarById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCarResponseDto"}}}},"400":{"description":"Bad Request."},"401":{"description":"Unauthorized."},"404":{"description":"Not found."}},"security":[{"access-token":[]}],"summary":"Find a car by id.","tags":["Cars"]}},"/cars/{id}/desactive":{"patch":{"operationId":"CarController_desactiveCar","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCarResponseDto"}}}},"401":{"description":"Unauthorized."},"404":{"description":"Not found."},"409":{"description":"Car already deactivated"}},"security":[{"access-token":[]}],"summary":"Inactivate car by id.","tags":["Cars"]}}},"info":{"title":"Car Rental Management, PRIME NODE","description":"This project brings the API back-end of a car rental management","version":"1.0","contact":{"name":"Team: Diogo Vasconcelos, Rafael Arashiro, Marcelo Jose de Sousa, Leticia Alaide, Vitor Zoqueti","url":"https://github.com/DioGolang/ANOUT24_D02_COMPASSCAR_PRIME_NODE","email":"support@example.com"}},"tags":[{"name":"Api Car","description":""}],"servers":[],"components":{"securitySchemes":{"access-token":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateUserDto":{"type":"object","properties":{"id":{"type":"string","description":"Id CLient","example":"d329a5ad-c19c-4a63-bec5-b55df7ecdd9d"},"name":{"type":"string","description":"User's name","example":"João Silva"},"email":{"type":"string","description":"User'semail","example":"Joao@compass.com.br"},"status":{"type":"boolean","description":"User'sstatus.","example":"true"},"passwordHash":{"type":"string","description":"User's password.","example":"Abc12345678"}},"required":["id","name","email","status","passwordHash"]},"CreateUserResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"User's id with UUID format.","example":"550e8400-e29b-41d4-a716-446655440000"},"name":{"type":"string","description":"User's name","example":"maria"},"status":{"type":"boolean","description":"User's status.","example":true},"email":{"type":"string","description":"User'semail","example":"maria@compass.pb.com.br"},"createdAt":{"type":"string","description":"User's criation date.","example":"2021-09-01T00:00:00.000Z"},"updatedAt":{"type":"string","description":"User's update date.","example":"2021-09-01T00:00:00.000Z"}},"required":["id","name","status","email","createdAt","updatedAt"]},"UpdateUserDto":{"type":"object","properties":{"name":{"type":"string","description":"O nome do usuário","example":"maria"},"email":{"type":"string","description":"O nome do usuário","example":"maria@compass.pb.com.br"},"password":{"type":"string","description":"o password do usuário","example":"abc12345678"}},"required":["name","email","password"]},"CreateClientDto":{"type":"object","properties":{"email":{"type":"string","description":"Client's email.","example":"leticia@email.com.br"},"name":{"type":"string","description":"Client's name.","example":"Letícia"},"cpf":{"type":"string","description":"Client's CPF.","example":"827.210.338-91"},"tel":{"type":"string","description":"Client's phone.","example":"99859-6612"},"dateOfBirth":{"format":"date-time","type":"string","description":"Client's birth.","example":"1970-12-08"}},"required":["email","name","cpf","tel","dateOfBirth"]},"CreateClientResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Id CLient","example":"d329a5ad-c19c-4a63-bec5-b55df7ecdd9d"},"email":{"type":"string","description":"Client's email.","example":"leticia@email.com.br"},"name":{"type":"string","description":"Client's name.","example":"Letícia"},"cpf":{"type":"string","description":"Client's CPF.","example":"827.210.338-91"},"tel":{"type":"string","description":"Client's phone.","example":"99859-6612"},"dateOfBirth":{"format":"date-time","type":"string","description":"Client's birth.","example":"25/12/1970"},"status":{"type":"boolean","description":"The client's status.","example":true},"createdAt":{"format":"date-time","type":"string","description":"Order's created date.","example":"2024-12-10"},"updatedAt":{"format":"date-time","type":"string","description":"Order's updated date.","example":"2024-12-10"}},"required":["id","email","name","cpf","tel","dateOfBirth","status","createdAt","updatedAt"]},"UpdateClientDto":{"type":"object","properties":{"email":{"type":"string","description":"Client's email.","example":"leticia@email.com.br"},"name":{"type":"string","description":"Client's name.","example":"Letícia"},"cpf":{"type":"string","description":"Client's CPF.","example":"827.210.338-91"},"tel":{"type":"string","description":"Client's phone.","example":"99859-6612"},"dateOfBirth":{"format":"date-time","type":"string","description":"Client's birth.","example":"1970-12-08"}},"required":["email","name","cpf","tel","dateOfBirth"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string","description":"Email do usuário","example":"Joao@compass.com.br"},"password":{"type":"string","description":"Senha do usuário","example":"Abc12345678"}},"required":["email","password"]},"LoginResponseDto":{"type":"object","properties":{"access_token":{"type":"string","description":"Access token generated for the user for authentication, format jWT.","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkZW1vIiwiaWF0IjoxNTE2MjM5MDIyfQ.4y4bHvJ8e3YQqY0Jj5d2sUk7J7fD1Q8sY5K2J6d2"}},"required":["access_token"]},"CreateOrderDto":{"type":"object","properties":{"id":{"type":"string","description":"Id CLient","example":"d329a5ad-c19c-4a63-bec5-b55df7ecdd9d"},"initialDate":{"format":"date-time","type":"string","description":"The date the car will be rented.","example":"2024-12-15"},"finalDate":{"format":"date-time","type":"string","description":"The date the car will be returned.","example":"2024-12-20"},"cep":{"type":"string","description":"CEP from where the car will be rented. (Only numbers)","example":"04295020"},"carsId":{"type":"string","description":"The car's ID that the client wants to rent.","example":"804e7f9a-b2ec-4524-89ab-5925e364e233"},"clientsId":{"type":"string","description":"The client's ID.","example":"775f80b6-56cd-4aee-b3d1-a85437b97b8d"}},"required":["id","initialDate","finalDate","cep","carsId","clientsId"]},"AddressDto":{"type":"object","properties":{}},"ItemResponseDto":{"type":"object","properties":{"name":{"type":"string","description":"Name of the item","example":"GPS Tracker"}},"required":["name"]},"CreateCarResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Id Car","example":"d329a5ad-c19c-4a63-bec5-b55df7ecdd9d"},"brand":{"type":"string","description":"the brand of the car","example":"Fiat"},"model":{"type":"string","description":"The car model","example":"Uno"},"plate":{"type":"string","description":"The car plate","example":"ABC-1234"},"year":{"type":"number","description":"The car year","example":2020},"km":{"type":"number","description":"The car km","example":30},"dailyRate":{"type":"number","description":"The car daily rate","example":100},"status":{"type":"boolean","description":"The car status","example":true},"createdAt":{"type":"string","description":"The car created at","example":"2021-09-01T00:00:00.000Z"},"updatedAt":{"type":"string","description":"The car updated at","example":"2021-09-01T00:00:00.000Z"},"items":{"type":"array","items":{"$ref":"#/components/schemas/ItemResponseDto"}}},"required":["id","brand","model","plate","year","km","dailyRate","status","createdAt","updatedAt","items"]},"CreateOrderResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Order's id in UUID format.","example":"fac63f91-2369-42aa-b7f9-3c6e30118086"},"initialDate":{"format":"date-time","type":"string","description":"The date the car will be rented.","example":"2024-12-15"},"finalDate":{"format":"date-time","type":"string","description":"The date the car will be returned.","example":"2024-12-20"},"address":{"description":"Address where the car is rented.","example":{"city":"São Paulo","state":"SP","gia":1004,"cecp":"04295020"},"allOf":[{"$ref":"#/components/schemas/AddressDto"}]},"rentalFee":{"type":"number","description":"The rent fee.","example":"100"},"totalRentalValue":{"type":"number","description":"The rent fee.","example":"5000"},"orderClosingDate":{"format":"date-time","type":"string","description":"The day the order is closed.","example":"2024-12-20"},"lateFee":{"type":"number","description":"The fine for the car's late delivery.","example":"3000"},"status":{"type":"string","description":"The order status.","example":"OPEN"},"cars":{"description":"The order's car.","example":{"brand":"Volkswagen","model":"Fusca","plate":"ABC-8791","year":2025,"km":1000,"dailyRate":500,"status":true,"createdAt":"2024-12-10","updatedAt":"2024-12-10","items":["leather bank, air conditioning, ABS"]},"allOf":[{"$ref":"#/components/schemas/CreateCarResponseDto"}]},"clients":{"description":"The order's client.","example":{"name":"Letícia","email":"leticia@email.com.br","cpf":"827.210.338-91","tel":"99859-6612","dateOfBirth":"25/12/1970"},"allOf":[{"$ref":"#/components/schemas/CreateClientResponseDto"}]},"createdAt":{"format":"date-time","type":"string","description":"Order's created date.","example":"2024-12-10"},"updatedAt":{"format":"date-time","type":"string","description":"Order's updated date.","example":"2024-12-10"}},"required":["id","initialDate","finalDate","address","rentalFee","totalRentalValue","orderClosingDate","lateFee","status","cars","clients","createdAt","updatedAt"]},"UpdateOrderDto":{"type":"object","properties":{"id":{"type":"string","description":"Id CLient","example":"d329a5ad-c19c-4a63-bec5-b55df7ecdd9d"},"initialDate":{"format":"date-time","type":"string","description":"The date the car will be rented.","example":"2024-12-15"},"finalDate":{"format":"date-time","type":"string","description":"The date the car will be returned.","example":"2024-12-20"},"cep":{"type":"string","description":"CEP from where the car will be rented. (Only numbers)","example":"04295020"},"carsId":{"type":"string","description":"The car's ID that the client wants to rent.","example":"804e7f9a-b2ec-4524-89ab-5925e364e233"},"clientsId":{"type":"string","description":"The client's ID.","example":"775f80b6-56cd-4aee-b3d1-a85437b97b8d"}}},"CreateCarDto":{"type":"object","properties":{"brand":{"type":"string","description":"Car's brand.","example":"Fiat"},"model":{"type":"string","description":"Car's model.","example":"Uno"},"plate":{"type":"string","description":"Car's plate on the old and new format.","example":"ABC-1234 ou ABC1D23"},"year":{"type":"number","description":"Car's year","example":2021},"km":{"type":"number","description":"Car's km","example":45},"dailyRate":{"type":"number","description":"Car's daily rate.","example":45},"items":{"description":"Car's items list.","example":["Air conditioning","ABS"],"type":"array","items":{"type":"string"}}},"required":["brand","model","plate","year","km","dailyRate","items"]},"UpdateCarDto":{"type":"object","properties":{}}}}}